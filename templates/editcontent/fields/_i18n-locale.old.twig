<div class="language-group locale-{{ locale_slug }}">
    {% set type = {
        type: field.subtype
    } %}
    {% set defaults = {
        class:      '',
        label:      '',
        variant:    '',
        canUpload:  field.canUpload,
        default:    null
    } %}
    {% set rfield = defaults|merge(field)|merge(type) %}

    {% set rcontext = {
        'key':        name ~ '-' ~ locale_slug,
        'name':       name ~ '[' ~ locale ~ ']',
        'contentkey': locale,
        'field':      rfield,
        'labelkey':   rfield.label|default(name|ucfirst) ~ ' (' ~ locale_label ~ ')',
        'context': {
            'content':  content,
            'can':      {'upload': field.canUpload}
        }
    } %}
    {# Prefix #}
    {% if rcontext.field.prefix is defined and rcontext.field.prefix is not empty %}
        <div class="prefix">
            {{ rcontext.field.prefix|markdown }}
        </div>
    {% endif %}

    {{ include(context.fields[rfield.type].template, rcontext) }}

    {# Postfix #}
    {% if rcontext.field.postfix is defined and rcontext.field.postfix is not empty %}
        <div class="postfix">
            {{ rcontext.field.postfix|markdown }}
        </div>
    {% endif %}

    {# Divider #}
    {% if rcontext.field.separator is defined and rcontext.field.separator == true %}
        <hr>
    {% endif %}
</div>
