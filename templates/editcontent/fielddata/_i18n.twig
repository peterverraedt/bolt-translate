{% set fieldtypes = [] %}
{% set i18n_fieldtypes = [] %}
{% for field in context.contenttype.fields %}
{% if field['type'] == 'i18n' %}
{% set i18n_fieldtypes = i18n_fieldtypes|merge([field.subtype]) %}
{% elseif field['type'] == 'repeater' %}
{% for rfield in field.fields %}
{% if rfield['type'] == 'i18n' %}
{% set i18n_fieldtypes = i18n_fieldtypes|merge([rfield.subtype]) %}
{% else %}
{% set fieldtypes = fieldtypes|merge([rfield.type]) %}
{% endif %}
{% endfor %}
{% else %}
{% set fieldtypes = fieldtypes|merge([field.type]) %}
{% endif %}
{% endfor %}

{% for fieldtype in i18n_fieldtypes %}
{% if fieldtype not in fieldtypes %}
    {{ include('@bolt/editcontent/fielddata/_' ~ fieldtype ~ '.twig', ignore_missing = true) }}
{% endif %}
{% endfor %}
